<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>滑舌最悪メーカー Ver.2</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; padding: 20px; background-color: #fce4ec; color: #444; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1 { font-size: 1.4rem; text-align: center; color: #ff4081; margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; font-size: 0.9rem; color: #666; }
        textarea { width: 100%; height: 120px; padding: 12px; border: 2px solid #ffd1dc; border-radius: 12px; font-size: 1rem; box-sizing: border-box; resize: none; margin-bottom: 20px; transition: border-color 0.3s; }
        textarea:focus { border-color: #ff4081; outline: none; }
        .copy-btn { width: 100%; padding: 12px; background-color: #ff4081; color: white; border: none; border-radius: 12px; font-size: 1rem; cursor: pointer; font-weight: bold; transition: background 0.3s; }
        .copy-btn:hover { background-color: #f50057; }
        .copy-btn:active { transform: scale(0.98); }
        .status-msg { text-align: center; font-size: 0.8rem; height: 1rem; margin-top: 8px; color: #ff4081; }
    </style>
</head>
<body>

<div class="container">
    <h1>滑舌最悪メーカー</h1>
    
    <label for="input">入力（ふつうの言葉）</label>
    <textarea id="input" placeholder="ここに文章を入力してくだしゃい..."></textarea>

    <label for="output">出力（滑舌最悪）</label>
    <textarea id="output" readonly placeholder="ここに結果が出ましゅ..."></textarea>

    <button class="copy-btn" onclick="copyToClipboard()">結果をコピーする</button>
    <div id="status" class="status-msg"></div>
</div>

<script>
    const map = {
        'か': 'きゃ', 'き': 'きゅぃ', 'く': 'きゅ', 'け': 'きゅぇ', 
        // 「こ」は変換なしに修正
        'さ': 'ちゃ', 'し': 'ち', 'す': 'ちゅ', 'せ': 'ちゅぇ', 'そ': 'ちょ',
        'た': 'ちゃ', 'ち': 'ち', 'つ': 'ちゅ', 'て': 'ちゅぇ', 'と': 'ちょ',
        'な': 'ぬぁ', 'に': 'に', 'ぬ': 'にゅ', 'ね': 'にゅぇ', 'の': 'にょ',
        'は': 'ふぁ', 'ひ': 'ふぃ', 'ふ': 'ひゅ', 'へ': 'ひゅぇ', 'ほ': 'ひょ',
        'ま': 'むぁ', 'み': 'みゅぃ', 'む': 'みゅ', 'め': 'みゅぇ', 'も': 'みょ',
        'や': 'ゆぁ', 'ゆ': 'ゆ', 'よ': 'ゆぉ',
        'ら': 'りゃ', 'り': 'りゅぃ', 'る': 'りゅ', 'れ': 'りゅぇ', 'ろ': 'りょ',
        'わ': 'うゎ', 'を': 'うぉ',
        
        'が': 'ぎゅぁ', 'ぎ': 'ぎゅぃ', 'ぐ': 'ぎゅ', 'げ': 'ぎゅぇ', 'ご': 'ぎょ',
        'ざ': 'ぢゃ', 'じ': 'ぢ', 'ず': 'ぢゅ', 'ぜ': 'ぢゅぇ', 'ぞ': 'ぢょ',
        'だ': 'だゅぁ', 'ど': 'だゅぉ',
        'ば': 'びゃ', 'び': 'びゅぃ', 'ぶ': 'びゅ', 'べ': 'びゅぇ', 'ぼ': 'びゅぉ',
        'ぱ': 'ぴゃ', 'ぴ': 'ぴゅぃ', 'ぷ': 'ぴゅ', 'ぺ': 'ぴぇ', 'ぽ': 'ぴょ'
    };

    const inputArea = document.getElementById('input');
    const outputArea = document.getElementById('output');
    const statusMsg = document.getElementById('status');

    inputArea.addEventListener('input', () => {
        let text = inputArea.value;
        let result = '';

        for (let char of text) {
            result += map[char] || char;
        }
        
        outputArea.value = result;
    });

    async function copyToClipboard() {
        if (!outputArea.value) return;
        
        try {
            await navigator.clipboard.writeText(outputArea.value);
            statusMsg.innerText = "コピーしまちた！";
            setTimeout(() => { statusMsg.innerText = ""; }, 2000);
        } catch (err) {
            statusMsg.innerText = "コピーに失敗しまちた...";
        }
    }
</script>

</body>
</html>
